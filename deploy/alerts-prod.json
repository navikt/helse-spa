{
  "apiVersion": "nais.io/v1alpha1",
  "kind": "Alert",
  "metadata": {
    "name": "spa-alerts",
    "labels": {
      "team": "tbd"
    }
  },
  "spec": {
    "receivers": {
      "slack": {
        "channel": "#spsak"
      }
    },
    "alerts": [
      {
        "alert": "spa-har-ingen-aktive-pods",
        "expr": "up{app=~\"spa\",job=\"kubernetes-pods\"} == 0",
        "for": "2m",
        "description": "spa mangler aktive pods i produksjon!",
        "action": "Se `kubectl describe pod {{ $labels.kubernetes_pod_name }}` for events, og `kubectl logs {{ $labels.kubernetes_pod_name }}` for logger",
        "sla": "respond within 1h, during office hours",
        "severity": "danger"
      }
    ]
  }
}
